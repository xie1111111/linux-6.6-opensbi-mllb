# 0 "arch/riscv/boot/dts/starfive/jh7100-starfive-visionfive-v1.dts"
# 0 "<built-in>"
# 0 "<command-line>"
# 1 "arch/riscv/boot/dts/starfive/jh7100-starfive-visionfive-v1.dts"






/dts-v1/;
# 1 "arch/riscv/boot/dts/starfive/jh7100-common.dtsi" 1






/dts-v1/;
# 1 "arch/riscv/boot/dts/starfive/jh7100.dtsi" 1






/dts-v1/;
# 1 "./scripts/dtc/include-prefixes/dt-bindings/clock/starfive-jh7100.h" 1
# 9 "arch/riscv/boot/dts/starfive/jh7100.dtsi" 2
# 1 "./scripts/dtc/include-prefixes/dt-bindings/reset/starfive-jh7100.h" 1
# 10 "arch/riscv/boot/dts/starfive/jh7100.dtsi" 2

/ {
 compatible = "starfive,jh7100";
 #address-cells = <2>;
 #size-cells = <2>;

 cpus {
  #address-cells = <1>;
  #size-cells = <0>;

  U74_0: cpu@0 {
   compatible = "sifive,u74-mc", "riscv";
   reg = <0>;
   d-cache-block-size = <64>;
   d-cache-sets = <64>;
   d-cache-size = <32768>;
   d-tlb-sets = <1>;
   d-tlb-size = <32>;
   device_type = "cpu";
   i-cache-block-size = <64>;
   i-cache-sets = <64>;
   i-cache-size = <32768>;
   i-tlb-sets = <1>;
   i-tlb-size = <32>;
   mmu-type = "riscv,sv39";
   riscv,isa = "rv64imafdc";
   tlb-split;

   cpu0_intc: interrupt-controller {
    compatible = "riscv,cpu-intc";
    interrupt-controller;
    #interrupt-cells = <1>;
   };
  };

  U74_1: cpu@1 {
   compatible = "sifive,u74-mc", "riscv";
   reg = <1>;
   d-cache-block-size = <64>;
   d-cache-sets = <64>;
   d-cache-size = <32768>;
   d-tlb-sets = <1>;
   d-tlb-size = <32>;
   device_type = "cpu";
   i-cache-block-size = <64>;
   i-cache-sets = <64>;
   i-cache-size = <32768>;
   i-tlb-sets = <1>;
   i-tlb-size = <32>;
   mmu-type = "riscv,sv39";
   riscv,isa = "rv64imafdc";
   tlb-split;

   cpu1_intc: interrupt-controller {
    compatible = "riscv,cpu-intc";
    interrupt-controller;
    #interrupt-cells = <1>;
   };
  };

  cpu-map {
   cluster0 {
    core0 {
     cpu = <&U74_0>;
    };

    core1 {
     cpu = <&U74_1>;
    };
   };
  };
 };

 thermal-zones {
  cpu-thermal {
   polling-delay-passive = <250>;
   polling-delay = <15000>;

   thermal-sensors = <&sfctemp>;

   trips {
    cpu_alert0 {

     temperature = <75000>;
     hysteresis = <2000>;
     type = "passive";
    };

    cpu_crit {

     temperature = <90000>;
     hysteresis = <2000>;
     type = "critical";
    };
   };
  };
 };

 osc_sys: osc_sys {
  compatible = "fixed-clock";
  #clock-cells = <0>;

  clock-frequency = <0>;
 };

 osc_aud: osc_aud {
  compatible = "fixed-clock";
  #clock-cells = <0>;

  clock-frequency = <0>;
 };

 gmac_rmii_ref: gmac_rmii_ref {
  compatible = "fixed-clock";
  #clock-cells = <0>;

  clock-frequency = <0>;
 };

 gmac_gr_mii_rxclk: gmac_gr_mii_rxclk {
  compatible = "fixed-clock";
  #clock-cells = <0>;

  clock-frequency = <0>;
 };

 soc {
  compatible = "simple-bus";
  interrupt-parent = <&plic>;
  #address-cells = <2>;
  #size-cells = <2>;
  ranges;

  clint: clint@2000000 {
   compatible = "starfive,jh7100-clint", "sifive,clint0";
   reg = <0x0 0x2000000 0x0 0x10000>;
   interrupts-extended = <&cpu0_intc 3 &cpu0_intc 7
            &cpu1_intc 3 &cpu1_intc 7>;
  };

  plic: interrupt-controller@c000000 {
   compatible = "starfive,jh7100-plic", "sifive,plic-1.0.0";
   reg = <0x0 0xc000000 0x0 0x4000000>;
   interrupts-extended = <&cpu0_intc 11 &cpu0_intc 9
            &cpu1_intc 11 &cpu1_intc 9>;
   interrupt-controller;
   #address-cells = <0>;
   #interrupt-cells = <1>;
   riscv,ndev = <133>;
  };

  clkgen: clock-controller@11800000 {
   compatible = "starfive,jh7100-clkgen";
   reg = <0x0 0x11800000 0x0 0x10000>;
   clocks = <&osc_sys>, <&osc_aud>, <&gmac_rmii_ref>, <&gmac_gr_mii_rxclk>;
   clock-names = "osc_sys", "osc_aud", "gmac_rmii_ref", "gmac_gr_mii_rxclk";
   #clock-cells = <1>;
  };

  rstgen: reset-controller@11840000 {
   compatible = "starfive,jh7100-reset";
   reg = <0x0 0x11840000 0x0 0x10000>;
   #reset-cells = <1>;
  };

  i2c0: i2c@118b0000 {
   compatible = "snps,designware-i2c";
   reg = <0x0 0x118b0000 0x0 0x10000>;
   clocks = <&clkgen 155>,
     <&clkgen 154>;
   clock-names = "ref", "pclk";
   resets = <&rstgen 82>;
   interrupts = <96>;
   #address-cells = <1>;
   #size-cells = <0>;
   status = "disabled";
  };

  i2c1: i2c@118c0000 {
   compatible = "snps,designware-i2c";
   reg = <0x0 0x118c0000 0x0 0x10000>;
   clocks = <&clkgen 157>,
     <&clkgen 156>;
   clock-names = "ref", "pclk";
   resets = <&rstgen 84>;
   interrupts = <97>;
   #address-cells = <1>;
   #size-cells = <0>;
   status = "disabled";
  };

  gpio: pinctrl@11910000 {
   compatible = "starfive,jh7100-pinctrl";
   reg = <0x0 0x11910000 0x0 0x10000>,
         <0x0 0x11858000 0x0 0x1000>;
   reg-names = "gpio", "padctl";
   clocks = <&clkgen 158>;
   resets = <&rstgen 86>;
   interrupts = <32>;
   gpio-controller;
   #gpio-cells = <2>;
   interrupt-controller;
   #interrupt-cells = <2>;
  };

  uart2: serial@12430000 {
   compatible = "starfive,jh7100-uart", "snps,dw-apb-uart";
   reg = <0x0 0x12430000 0x0 0x10000>;
   clocks = <&clkgen 160>,
     <&clkgen 159>;
   clock-names = "baudclk", "apb_pclk";
   resets = <&rstgen 87>;
   interrupts = <72>;
   reg-io-width = <4>;
   reg-shift = <2>;
   status = "disabled";
  };

  uart3: serial@12440000 {
   compatible = "starfive,jh7100-uart", "snps,dw-apb-uart";
   reg = <0x0 0x12440000 0x0 0x10000>;
   clocks = <&clkgen 162>,
     <&clkgen 161>;
   clock-names = "baudclk", "apb_pclk";
   resets = <&rstgen 89>;
   interrupts = <73>;
   reg-io-width = <4>;
   reg-shift = <2>;
   status = "disabled";
  };

  i2c2: i2c@12450000 {
   compatible = "snps,designware-i2c";
   reg = <0x0 0x12450000 0x0 0x10000>;
   clocks = <&clkgen 168>,
     <&clkgen 167>;
   clock-names = "ref", "pclk";
   resets = <&rstgen 95>;
   interrupts = <74>;
   #address-cells = <1>;
   #size-cells = <0>;
   status = "disabled";
  };

  i2c3: i2c@12460000 {
   compatible = "snps,designware-i2c";
   reg = <0x0 0x12460000 0x0 0x10000>;
   clocks = <&clkgen 170>,
     <&clkgen 169>;
   clock-names = "ref", "pclk";
   resets = <&rstgen 97>;
   interrupts = <75>;
   #address-cells = <1>;
   #size-cells = <0>;
   status = "disabled";
  };

  watchdog@12480000 {
   compatible = "starfive,jh7100-wdt";
   reg = <0x0 0x12480000 0x0 0x10000>;
   clocks = <&clkgen 171>,
     <&clkgen 172>;
   clock-names = "apb", "core";
   resets = <&rstgen 99>,
     <&rstgen 100>;
  };

  sfctemp: temperature-sensor@124a0000 {
   compatible = "starfive,jh7100-temp";
   reg = <0x0 0x124a0000 0x0 0x10000>;
   clocks = <&clkgen 184>,
     <&clkgen 183>;
   clock-names = "sense", "bus";
   resets = <&rstgen 112>,
     <&rstgen 111>;
   reset-names = "sense", "bus";
   #thermal-sensor-cells = <0>;
  };
 };
};
# 9 "arch/riscv/boot/dts/starfive/jh7100-common.dtsi" 2
# 1 "./scripts/dtc/include-prefixes/dt-bindings/gpio/gpio.h" 1
# 10 "arch/riscv/boot/dts/starfive/jh7100-common.dtsi" 2
# 1 "./scripts/dtc/include-prefixes/dt-bindings/leds/common.h" 1
# 11 "arch/riscv/boot/dts/starfive/jh7100-common.dtsi" 2
# 1 "./scripts/dtc/include-prefixes/dt-bindings/pinctrl/pinctrl-starfive-jh7100.h" 1
# 12 "arch/riscv/boot/dts/starfive/jh7100-common.dtsi" 2

/ {
 aliases {
  serial0 = &uart3;
 };

 chosen {
  stdout-path = "serial0:115200n8";
 };

 cpus {
  timebase-frequency = <6250000>;
 };

 memory@80000000 {
  device_type = "memory";
  reg = <0x0 0x80000000 0x2 0x0>;
 };

 leds {
  compatible = "gpio-leds";

  led-ack {
   gpios = <&gpio 43 0>;
   color = <2>;
   function = "heartbeat";
   linux,default-trigger = "heartbeat";
   label = "ack";
  };
 };
};

&gpio {
 i2c0_pins: i2c0-0 {
  i2c-pins {
   pinmux = <( (((0) & 0x80000000) >> (31 - 7)) | (((0) & 0xff) << 24) | ((((8 | 0x80000000)) & 0x80000000) >> (31 - 6)) | ((((8 | 0x80000000)) & 0xff) << 16) | (((10) & 0xff) << 8) | ((62) & 0x3f))>,


     <( (((0) & 0x80000000) >> (31 - 7)) | (((0) & 0xff) << 24) | ((((9 | 0x80000000)) & 0x80000000) >> (31 - 6)) | ((((9 | 0x80000000)) & 0xff) << 16) | (((11) & 0xff) << 8) | ((61) & 0x3f))>;


   bias-disable;
   input-enable;
   input-schmitt-enable;
  };
 };

 i2c1_pins: i2c1-0 {
  i2c-pins {
   pinmux = <( (((0) & 0x80000000) >> (31 - 7)) | (((0) & 0xff) << 24) | ((((10 | 0x80000000)) & 0x80000000) >> (31 - 6)) | ((((10 | 0x80000000)) & 0xff) << 16) | (((12) & 0xff) << 8) | ((47) & 0x3f))>,


     <( (((0) & 0x80000000) >> (31 - 7)) | (((0) & 0xff) << 24) | ((((11 | 0x80000000)) & 0x80000000) >> (31 - 6)) | ((((11 | 0x80000000)) & 0xff) << 16) | (((13) & 0xff) << 8) | ((48) & 0x3f))>;


   bias-pull-up;
   input-enable;
   input-schmitt-enable;
  };
 };

 i2c2_pins: i2c2-0 {
  i2c-pins {
   pinmux = <( (((0) & 0x80000000) >> (31 - 7)) | (((0) & 0xff) << 24) | ((((12 | 0x80000000)) & 0x80000000) >> (31 - 6)) | ((((12 | 0x80000000)) & 0xff) << 16) | (((14) & 0xff) << 8) | ((60) & 0x3f))>,


     <( (((0) & 0x80000000) >> (31 - 7)) | (((0) & 0xff) << 24) | ((((13 | 0x80000000)) & 0x80000000) >> (31 - 6)) | ((((13 | 0x80000000)) & 0xff) << 16) | (((15) & 0xff) << 8) | ((59) & 0x3f))>;


   bias-disable;
   input-enable;
   input-schmitt-enable;
  };
 };

 uart3_pins: uart3-0 {
  rx-pins {
   pinmux = <( (((0) & 0x80000000) >> (31 - 7)) | (((0) & 0xff) << 24) | (((1) & 0x80000000) >> (31 - 6)) | (((1) & 0xff) << 16) | (((73) & 0xff) << 8) | ((13) & 0x3f))>;

   bias-pull-up;
   drive-strength = <14>;
   input-enable;
   input-schmitt-enable;
   slew-rate = <0>;
  };
  tx-pins {
   pinmux = <( (((132) & 0x80000000) >> (31 - 7)) | (((132) & 0xff) << 24) | (((0) & 0x80000000) >> (31 - 6)) | (((0) & 0xff) << 16) | (((0xff) & 0xff) << 8) | ((14) & 0x3f))>;

   bias-disable;
   drive-strength = <35>;
   input-disable;
   input-schmitt-disable;
   slew-rate = <0>;
  };
 };
};

&i2c0 {
 clock-frequency = <100000>;
 i2c-sda-hold-time-ns = <300>;
 i2c-sda-falling-time-ns = <500>;
 i2c-scl-falling-time-ns = <500>;
 pinctrl-names = "default";
 pinctrl-0 = <&i2c0_pins>;
 status = "okay";

 pmic@5e {
  compatible = "ti,tps65086";
  reg = <0x5e>;
  gpio-controller;
  #gpio-cells = <2>;

  regulators {
  };
 };
};

&i2c1 {
 clock-frequency = <400000>;
 i2c-sda-hold-time-ns = <300>;
 i2c-sda-falling-time-ns = <100>;
 i2c-scl-falling-time-ns = <100>;
 pinctrl-names = "default";
 pinctrl-0 = <&i2c1_pins>;
 status = "okay";
};

&i2c2 {
 clock-frequency = <100000>;
 i2c-sda-hold-time-ns = <300>;
 i2c-sda-falling-time-ns = <500>;
 i2c-scl-falling-time-ns = <500>;
 pinctrl-names = "default";
 pinctrl-0 = <&i2c2_pins>;
 status = "okay";
};

&osc_sys {
 clock-frequency = <25000000>;
};

&osc_aud {
 clock-frequency = <27000000>;
};

&uart3 {
 pinctrl-names = "default";
 pinctrl-0 = <&uart3_pins>;
 status = "okay";
};
# 9 "arch/riscv/boot/dts/starfive/jh7100-starfive-visionfive-v1.dts" 2


/ {
 model = "StarFive VisionFive V1";
 compatible = "starfive,visionfive-v1", "starfive,jh7100";

 gpio-restart {
  compatible = "gpio-restart";
  gpios = <&gpio 63 0>;
  priority = <224>;
 };
};
